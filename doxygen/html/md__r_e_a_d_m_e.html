<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>treeducken: treeducken</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">treeducken
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">treeducken </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.com/wadedismukes/treeducken"><img src="https://travis-ci.com/wadedismukes/treeducken.svg?branch=master" alt="Build Status" class="inline"/>
</a></p>
<p>treeducken, named after the infamous <a href="https://en.wikipedia.org/wiki/Turducken">dish</a>, is for the simulation of phylogenies under the three tree model (Rasmussen &amp; Kellis 2012). These three trees represent the species tree, locus (i.e. gene family) tree, and the gene tree. If you prefer, you may think of the species tree as the turkey, locus tree as the duck, and gene tree as the chicken in our phylogenetic three-bird roast.</p>
<hr/>
<h1>Brief description of the simulator</h1>
<p>The simulations require the input of the following parameters:</p>
<ul>
<li>number of species to simulate</li>
<li>species birth rate</li>
<li>species death rate</li>
<li>gene birth rate</li>
<li>gene death rate</li>
<li>gene transfer rate</li>
<li>individuals to sample per population</li>
<li>effective population size</li>
<li>number of loci to simulate on the species tree</li>
<li>number of genes to simulate for each locus</li>
</ul>
<p>After inputting these parameters the simulation proceeds as follows. First, a species tree is simulated under the constant rate birth-death process until the specified number of species is obtained using the generalized sampling algorithm given in Hartmann 2010. Next, a set of locus tree is forward simulated along the species tree using a birth-death process where transfers are treated as birth events where one loci is transferred to a randomly-selected contemporaneous species, and the other loci stays within the donor lineage. Note that this does simulate along lineages that are bound for extinction. The locus tree simulation process is repeated for the number of loci to simulate on the species tree. For each of those simulated locus trees a gene tree is backward simulated using the multi-locus coalescent. For this multilocus coalescent each tip in the tree starts with the individuals to sample per population.</p>
<h1>Installing treeducken</h1>
<p>To install treeducken, start by cloning the repository by doing the following:</p>
<div class="fragment"><div class="line">git clone https://github.com/wadedismukes/treeducken.git</div></div><!-- fragment --><h2>Mac OSX/Debian/Ubuntu</h2>
<p>If working on any of the above operating systems installation can proceed in the following way. You must have gcc version 7.3.0 or higher for this to install. First change directory to <code>treeducken/src</code> and run the following command:</p>
<div class="fragment"><div class="line">make install</div></div><!-- fragment --><p>treeducken is now installed in the <code>treeducken</code> directory. To uninstall simply type:</p>
<div class="fragment"><div class="line">make clean</div></div><!-- fragment --> <h2>Install using Docker</h2>
<p>Provided in the repository with treeducken is a Dockerfile. To install using Docker, first install <a href="https://docs.docker.com/install/">Docker</a>. Once Docker is installed move into the directory with treeducken (in OSX you will do this via terminal and in Windows using a UNIX terminal emulator (e.g. git bash, putty). Once inside that directory run the following command to build the docker file: </p><pre class="fragment">docker build --rm --force-rm -t wadedismukes/treeducken .
</pre><p>Now you can run and use the image in an interactive shell. </p><pre class="fragment">docker run -it --name treeducken wadedismukes/treeducken 
</pre><p>Or if you would like to have a directory from your computer available on the docker image you could type something like: </p><pre class="fragment">docker run -it -v /host/path/:/container/path --name treeducken wadedismukes/treeducken
</pre><p>Replacing <code>/host/path/</code> and <code>/container/path/</code> with whichever directory you would like to have in the container and whatever path you would like to use inside of the container. This will allow you to work in that directory generating simulated data that you can then use outside of the container. In either case of running the image for Windows machines you will need to prepend the command <code>winpty</code> before <code>docker ...</code>.</p>
<h1>Using treeducken</h1>
<p>Once treeducken has been installed, there are two ways to run the program. The first way entails using command line arguments (see below) to specify the simulation parameters:</p>
<ul>
<li>number of simulation replicates (<code>-r</code>)</li>
<li>number of species to simulate (<code>-nt</code>)</li>
<li>species birth rate (<code>-sbr</code>)</li>
<li>species death rate (<code>-sdr</code>)</li>
<li>gene birth rate (<code>-gbr</code>)</li>
<li>gene death rate (<code>-gdr</code>)</li>
<li>gene transfer rate (<code>-lgtr</code>)</li>
<li>individuals to sample per population (<code>-ipp</code>)</li>
<li>effective population size (<code>-ne</code>)</li>
<li>number of loci to simulate on the species tree (<code>-nl</code>)</li>
<li>number of genes to simulate on the locus tree (<code>-ng</code>)</li>
<li>add outgroup with root branch length scaled to fraction (input as fraction) (<code>-og</code>)</li>
<li>outfile prefix (<code>-o</code>)</li>
<li>input settings file (<code>-i</code>)</li>
</ul>
<p>For example you could run: </p><div class="fragment"><div class="line">treeducken -r 10 -nt 100 -sbr 0.05 -sdr 0.04 </div></div><!-- fragment --><p> To simulate 10 replicates of species trees with 100 extant taxa at a species birth rate of 0.05 and a species death rate of 0.04. One may also use the <code>-i</code> flag with a settings file (see the example file) that has these parameters (or a combination of the two).</p>
<p>This command would look like this: </p><div class="fragment"><div class="line">treeducken -i sim_settings.txt</div></div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
